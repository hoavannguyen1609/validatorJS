"use strict";const Validator=o=>{const f=document.querySelector(o.form);if(f){const g=(e,s)=>{for(;e.parentElement;){if(e.parentElement.matches(s))return e.parentElement;e=e.parentElement}},R={},v=(i,r)=>{let m;const e=g(i,o.parentSelector);for(let x=0;x<R[r.s].length;x++){switch(i.type){case"radio":case"checkbox":m=R[r.s][x](f.querySelector(r.s+":checked"));break;default:m=R[r.s][x](i.value)}if(m)break}return m?(e.querySelector(o.errorSelector).innerText=m,e.classList.add(o.invalidClass)):(e.querySelector(o.errorSelector).innerText="",e.classList.remove(o.invalidClass)),m};f.onsubmit=e=>{e.preventDefault();let F=!0;o.rules.forEach(r=>{v(f.querySelector(r.s),r)&&(F=!1)}),F&&("function"==typeof o.onSubmit?o.onSubmit(Array.from(f.querySelectorAll("[name]")).reduce((v,i)=>{switch(i.type){case"radio":null!==v[i.name]&&void 0!==v[i.name]||f.querySelector('input[name="'+i.name+'"]:checked')&&(v[i.name]=f.querySelector('input[name="'+i.name+'"]:checked').value);break;case"checkbox":if(!i.matches(":checked"))return v[i.name]="",v;Array.isArray(v[i.name])?v[i.name].push(i.value):v[i.name]=[];break;case"file":v[i.name]=i.files;break;default:v[i.name]=i.value}return v},{})):f.onsubmit())},o.rules.forEach(r=>{Array.isArray(R[r.s])?R[r.s].push(r.t):R[r.s]=[r.t],Array.from(f.querySelectorAll(r.s)).forEach(i=>{i.onblur=()=>v(i,r),i.oninput=()=>{const e=g(i,o.parentSelector);e.querySelector(o.errorSelector).innerText="",e.classList.remove(o.invalidClass)}})})}return!1};Validator.isRequired=(s,m)=>({s:s,t:v=>void 0!==v||null===v?v?void 0:m||"Vui lòng nhập trường này":v.trim()?void 0:m||"Vui lòng nhập trường này"}),Validator.isEmail=(s,m)=>({s:s,t:v=>/^\w+([\.-]?\w+)*@\w+([\.-]?\w+)*(\.\w{2,3})+$/.test(v)?void 0:m||"Vui lòng nhập email"}),Validator.minLength=(s,l,m)=>({s:s,t:v=>v.length>=l?void 0:m||`Trường này nhập tối thiểu ${l} ký tự`}),Validator.maxLength=(s,l,m)=>({s:s,t:v=>v.length<=l?void 0:m||`Trường này nhập tối đa ${l} ký tự`}),Validator.isConfirmed=(s,g,m)=>({s:s,t:v=>v===g()?void 0:m||"Giá trị nhập lại không trùng khớp"}),Validator.isPhone=(s,m)=>({s:s,t:v=>/^(0|\+84)(\s|\.)?((3[2-9])|(5[689])|(7[06-9])|(8[1-689])|(9[0-46-9]))(\d)(\s|\.)?(\d{3})(\s|\.)?(\d{3})$/.test(v)?void 0:m||"Vui lòng nhập số điện thoại Việt Nam"}),Validator.isStrongPassword=(s,m)=>({s:s,t:v=>/^(?=.*[a-z])(?=.*[A-Z])(?=.*[0-9])(?=.*[!@#\$%\^&\*]).{8,}$/.test(v)?void 0:m||"Vui lòng nhập mật khẩu mạnh"}),Validator.isNumeric=(s,m)=>({s:s,t:v=>/^\d+$/.test(v)?void 0:m||"Vui lòng nhập số 0 - 9"}),Validator.isString=(s,m)=>({s:s,t:v=>/^[a-zA-Z0-9]+$/.test(v)?void 0:m||"Vui lòng nhập chữ hoặc số"}),Validator.isAlpha=(s,m)=>({s:s,t:v=>/^[a-zA-Z]+$/.test(v)?void 0:m||"Vui lòng nhập chữ"});